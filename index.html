<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcade Master - Accueil</title>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="top-bar">
        <div id="menuToggle" class="menu-toggle">
            <i class="fa-solid fa-bars"></i>
        </div>
        <span style="font-size: 1.5em; font-weight: bold; color: var(--color-neon-green);">
            ARCADE MASTER
        </span>
        <div style="display: flex; align-items: center; gap: 15px;">
            <a href="boutique.html" class="currency-display" title="Boutique">
                <span class="coin-count">0</span>
                <button id="trollButton" type="button">+</button>
            </a>
            <a href="compte.html" style="color: var(--color-text-light);" title="Mon Compte" data-emoji="ğŸ‘¤">
                ğŸ‘¤
            </a>
        </div>
    </div>

    <div id="sidebar" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" id="closeNav" onclick="closeNav()" style="position: absolute; top: 0; right: 25px; font-size: 36px; color: var(--color-neon-orange);">&times;</a>
        <div id="nav-links">
            <a href="index.html" data-emoji="ğŸ ">ğŸ  Accueil</a>
            <a href="jeux.html" data-emoji="ğŸ®">ğŸ® Menu Jeux</a>
            <a href="compte.html" data-emoji="ğŸ‘¤">ğŸ‘¤ Mon Compte</a>
            <a href="boutique.html" data-emoji="ğŸ›ï¸">ğŸ›ï¸ Boutique</a>
            <a href="classement.html" data-emoji="ğŸ†">ğŸ† Classement</a>
            <a href="credits.html" data-emoji="ğŸ“œ">ğŸ“œ CrÃ©dits</a>
        </div>
    </div>

    <div class="main-container" id="mainContent">
        
        <div style="padding-top: 50px;"></div> 
        
        <h1 style="font-size: 3em; color: var(--color-neon-orange);">BIENVENUE DANS L'ARCADE</h1>
        
        <p style="font-size: 1.2em; color: var(--color-text-light); margin-bottom: 40px;">
            Plongez dans l'ambiance RÃ©tro-Neon de vos jeux classiques prÃ©fÃ©rÃ©s, revisitÃ©s en version 2.0 !
        </p>
        
        <div class="card-group" style="margin-top: 20px;">
            
            <div class="action-card" onclick="window.location.href='jeux.html'">
                <span class="card-icon">ğŸ®</span>
                <h3>JOUER</h3>
                <p>AccÃ©der aux jeux</p>
            </div>

            <div class="action-card" onclick="window.location.href='classement.html'">
                <span class="card-icon">ğŸ†</span>
                <h3>CLASSEMENT</h3>
                <p>Voir le top score mondial</p>
            </div>
            
            <div class="action-card" onclick="window.location.href='boutique.html'">
                <span class="card-icon">ğŸ›ï¸</span>
                <h3>BOUTIQUE</h3>
                <p>Acheter des skins et bonus</p>
            </div>
        </div>
        
        <div class="section-divider"></div>
        
        <h2 style="color: var(--color-neon-green);">VOTRE STATUT</h2>
        
        <div class="stats-card">
            <div class="stat-item">
                <span>PiÃ¨ces ğŸ’°</span>
                <span id="userCoins">N/A</span>
            </div>
            <div class="stat-item">
                <span>Meilleur Score ğŸ†</span>
                <span id="userHighScore">N/A</span>
            </div>
            <div class="stat-item">
                <span>ConnectÃ©</span>
                <span id="isConnected" style="color: var(--color-neon-red);">NON</span>
            </div>
        </div>
        
    </div>
    
    <script src="base.js"></script>
    <script src="auth.js"></script>
    <script>
        function updateHomeStats() {
            const currentUser = getCurrentUser();
            const isConnectedElement = document.getElementById('isConnected');
            
            if (currentUser) {
                document.getElementById('userCoins').textContent = currentUser.coins;
                document.getElementById('userHighScore').textContent = currentUser.highScores['space_invaders'] || 0;
                isConnectedElement.textContent = 'OUI';
                isConnectedElement.style.color = 'var(--color-neon-green)';
            } else {
                document.getElementById('userCoins').textContent = 'Se connecter';
                document.getElementById('userHighScore').textContent = 'Se connecter';
                isConnectedElement.textContent = 'NON';
                isConnectedElement.style.color = 'var(--color-neon-red)';
            }
            updateTopBar(); // Appel de la fonction de base pour synchroniser la barre
        }
        
        document.addEventListener('DOMContentLoaded', updateHomeStats);
    </script>
</body>
</html>
