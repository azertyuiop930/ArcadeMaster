<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcade Master - Boutique</title>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="top-bar">
        <div id="menuToggle" class="menu-toggle">
            <i class="fa-solid fa-bars"></i>
        </div>
        <span style="font-size: 1.5em; font-weight: bold; color: var(--color-neon-blue);">
            BOUTIQUE
        </span>
        <div style="display: flex; align-items: center; gap: 15px;">
            <a href="boutique.html" class="currency-display" title="Boutique">
                <span class="coin-count">0</span>
                <button id="trollButton" type="button">+</button>
            </a>
            <a href="compte.html" style="color: var(--color-text-light);" title="Mon Compte">
                ğŸ‘¤
            </a>
        </div>
    </div>

    <div id="sidebar" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" id="closeNav" onclick="closeNav()" style="position: absolute; top: 0; right: 25px; font-size: 36px; color: var(--color-neon-orange);">&times;</a>
        <div id="nav-links">
            <a href="index.html" data-emoji="ğŸ ">ğŸ  Accueil</a>
            <a href="jeux.html" data-emoji="ğŸ®">ğŸ® Menu Jeux</a>
            <a href="compte.html" data-emoji="ğŸ‘¤">ğŸ‘¤ Mon Compte</a>
            <a href="boutique.html" data-emoji="ğŸ›ï¸">ğŸ›ï¸ Boutique</a>
            <a href="classement.html" data-emoji="ğŸ†">ğŸ† Classement</a>
            <a href="credits.html" data-emoji="ğŸ“œ">ğŸ“œ CrÃ©dits</a>
        </div>
    </div>

    <div class="main-container" id="mainContent">
        <div style="padding-top: 50px;"></div> 
        
        <h1 style="font-size: 2.5em; color: var(--color-neon-blue); text-align: center;">LE MARCHÃ‰ COSMIQUE</h1>
        <p style="text-align: center; color: var(--color-text-light);">
            Bienvenue dans le marchÃ©. Achetez de nouvelles apparences pour vos jeux !
        </p>

        <h2 style="color: var(--color-neon-green); margin-top: 30px; text-align: center;">ğŸ›’ Packs de PiÃ¨ces</h2>
        
        <div class="store-grid">
            <div class="store-item">
                <img src="https://cdn-icons-png.flaticon.com/512/1000/1000727.png" alt="PiÃ¨ces" class="item-icon">
                <h3>Pack DÃ©couverte</h3>
                <p>10 PiÃ¨ces</p>
                <button onclick="buyCoins('10 Coins')" class="btn-primary" style="background-color: var(--color-neon-red);">â‚¬2.99</button>
            </div>
            <div class="store-item">
                <img src="https://cdn-icons-png.flaticon.com/512/1000/1000732.png" alt="PiÃ¨ces" class="item-icon">
                <h3>Pack Aventurier</h3>
                <p>100 PiÃ¨ces</p>
                <button onclick="buyCoins('100 Coins')" class="btn-primary" style="background-color: var(--color-neon-red);">â‚¬5.99</button>
            </div>
            <div class="store-item">
                <img src="https://cdn-icons-png.flaticon.com/512/1000/1000735.png" alt="PiÃ¨ces" class="item-icon">
                <h3>Pack Galactique</h3>
                <p>500 PiÃ¨ces</p>
                <button onclick="buyCoins('500 Coins')" class="btn-primary" style="background-color: var(--color-neon-red);">â‚¬19.99</button>
            </div>
            <div class="store-item">
                <img src="https://cdn-icons-png.flaticon.com/512/1000/1000742.png" alt="PiÃ¨ces" class="item-icon">
                <h3>Pack MaÃ®tre</h3>
                <p>1500 PiÃ¨ces</p>
                <button onclick="buyCoins('1500 Coins')" class="btn-primary" style="background-color: var(--color-neon-red);">â‚¬39.99</button>
            </div>
        </div>

        <h2 style="color: var(--color-neon-orange); margin-top: 50px; text-align: center;">ğŸš€ Vaisseaux Spatiaux</h2>
        
        <div class="store-grid" id="shipSkinsGrid">
            </div>
        
    </div>

    <script src="base.js"></script>
    <script src="auth.js"></script>
    <script>
        // --- LOGIQUE DE LA BOUTIQUE ---

        // Liste des skins disponibles (ID, Nom, Symbole, Prix)
        const AVAILABLE_SKINS = [
            { id: 0, name: "Classique", symbol: "ğŸš€", price: 0 },
            { id: 1, name: "Aigle de Feu", symbol: "ğŸ¦…", price: 50 },
            { id: 2, name: "VipÃ¨re", symbol: "ğŸ", price: 150 },
            { id: 3, name: "Soucoupe UFO", symbol: "ğŸ›¸", price: 500 },
        ];
        
        // Simule l'achat d'un skin (sans compte ni stockage local)
        function buySkin(skinId, price) {
            alert("Achat non disponible en mode local. Le prix Ã©tait de " + price + " piÃ¨ces pour " + AVAILABLE_SKINS.find(s => s.id === skinId).name + ".");
            // Si le compte fonctionnait, ce code vÃ©rifierait les piÃ¨ces et mettrait Ã  jour le profil.
        }

        // Simule l'achat de piÃ¨ces (Rickroll)
        window.buyCoins = function(pack) {
            alert(`Vous avez tentÃ© d'acheter le ${pack}. La transaction est en cours...`);
            window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ"; // CÃ©lÃ¨bre Rickroll
        }

        function renderSkins() {
            const grid = document.getElementById('shipSkinsGrid');
            grid.innerHTML = ''; // Nettoyage
            
            AVAILABLE_SKINS.forEach(skin => {
                const item = document.createElement('div');
                item.className = 'store-item';
                
                // Le symbole du vaisseau comme icÃ´ne
                const icon = document.createElement('div');
                icon.className = 'item-icon';
                icon.style.fontSize = '3em';
                icon.textContent = skin.symbol;
                item.appendChild(icon);
                
                const title = document.createElement('h3');
                title.textContent = skin.name;
                item.appendChild(title);
                
                const priceP = document.createElement('p');
                priceP.textContent = `${skin.price} PiÃ¨ces`;
                item.appendChild(priceP);
                
                const button = document.createElement('button');
                button.className = 'btn-primary';
                button.textContent = 'Acheter';
                button.style.backgroundColor = 'var(--color-neon-blue)';
                
                button.onclick = () => buySkin(skin.id, skin.price);
                
                item.appendChild(button);
                grid.appendChild(item);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (typeof updateTopBar === 'function') {
                updateTopBar();
            }
            renderSkins(); // Afficher les skins
        });
    </script>
</body>
</html>
